client {
  enabled = true
  server_join {
    retry_join = ["provider=aws tag_key=nomad-node tag_value=server"]
    retry_max = 5
    retry_interval = "15s"
  }
  # options = {
  #   "driver.raw_exec" = "1"
  #   "driver.raw_exec.enable" = "1"
  # }
}

bind_addr = "0.0.0.0"
data_dir = "/var/lib/nomad"

advertise {
  # This should be the IP of THIS MACHINE and must be routable by every node
  # in your cluster
  rpc = "{{ GetInterfaceIP \"eth0\" }}"
}

# Require TLS
# tls {
#   http = true
#   rpc  = true

#   ca_file   = "nomad/ssl/nomad-ca.pem"
#   cert_file = "nomad/ssl/client.pem"
#   key_file  = "nomad/ssl/client-key.pem"

#   verify_server_hostname = true
#   verify_https_client    = true
# }
